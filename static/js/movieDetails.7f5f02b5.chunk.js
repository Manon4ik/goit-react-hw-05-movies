"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[455],{713:function(e,n,r){var t=r(861),a=r(757),c=r.n(a),s=r(16),i="https://api.themoviedb.org/3/movie/",o="?api_key=164eadb7baae3a4c5cb507a1aca52aae",u=function(){var e=(0,t.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/day".concat(o));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(c().mark((function e(){var n,r,t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n).concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(){var n,r,t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n,"/reviews").concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(c().mark((function e(){var n,r,t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n,"/credits").concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie".concat(o,"&query=").concat(n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f={fetchTranding:u,fetchMovie:h,fetchReviews:l,fetchCasts:v,fetchMovieSearch:p};n.Z=f},152:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(184);function a(){return(0,t.jsx)("p",{children:"Loading ..."})}},112:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var t=r(861),a=r(439),c=r(757),s=r.n(c),i=r(791),o=r(416),u=r(713),h=r(184);function l(){var e,n=(0,o.TH)();console.log("location go back:",n);var r=(0,i.useRef)(null===(e=n.state)||void 0===e?void 0:e.from),t=(0,o.s0)();return(0,h.jsx)("nav",{children:(0,h.jsx)("button",{type:"button",onClick:function(e){t(r.current,{replace:!1})},children:"Go back"})})}function v(e){var n=e.movie,r=n.poster_path,t=n.original_title,a=n.vote_average,c=n.title,s=n.overview,i=n.genres,o=n.release_date,u=null===o||void 0===o?void 0:o.split("-")[0];return(0,h.jsxs)("section",{className:"movie",children:[(0,h.jsx)("div",{className:"movieImage",children:(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+r,alt:t})}),(0,h.jsxs)("div",{className:"movieInfo",children:[(0,h.jsxs)("h1",{children:[c||"Unknown Title"," (",u||"N/A",")"]}),(0,h.jsxs)("p",{children:["User score: ",10*a,"%"]}),(0,h.jsx)("h2",{children:"Overview"}),s&&(0,h.jsx)("p",{children:s}),(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("p",{children:Array.isArray(i)&&i.length>0&&i.map((function(e,n){return(0,h.jsxs)("span",{children:[e.name," "]},n)}))})]})]})}function p(){return(0,h.jsxs)("section",{children:[(0,h.jsx)("h4",{children:"Additional information"}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]}),(0,h.jsx)(o.j3,{})]})}var f=r(152);function d(){var e=(0,o.UO)().movieId,n=u.Z.fetchMovie,r=(0,i.useState)(null),c=(0,a.Z)(r,2),d=c[0],x=c[1],m=(0,i.useState)(null),j=(0,a.Z)(m,2),g=j[0],w=j[1],b=(0,i.useState)(!1),k=(0,a.Z)(b,2),Z=k[0],y=k[1];return(0,i.useEffect)((function(){y(!0);var r=function(){var r=(0,t.Z)(s().mark((function r(){var t,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n(e);case 3:t=r.sent,a=t.data,x(a||[]),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),w(r.t0.message||"Something went wrong.");case 11:return r.prev=11,y(!1),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})));return function(){return r.apply(this,arguments)}}();r()}),[e,n]),g?(0,h.jsxs)("p",{children:["Error: ",g]}):d?(0,h.jsx)("main",{children:Z?(0,h.jsx)(f.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l,{}),(0,h.jsx)(v,{movie:d}),(0,h.jsx)(p,{})]})}):void 0}}}]);
//# sourceMappingURL=movieDetails.7f5f02b5.chunk.js.map