"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[455],{713:function(e,n,r){var t=r(861),c=r(757),a=r.n(c),s=r(16),i="https://api.themoviedb.org/3/movie/",o="?api_key=164eadb7baae3a4c5cb507a1aca52aae",u=function(){var e=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/day".concat(o));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(a().mark((function e(){var n,r,t=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n).concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(a().mark((function e(){var n,r,t=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n,"/reviews").concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(a().mark((function e(){var n,r,t=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,s.Z.get("".concat(i+n,"/credits").concat(o));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie".concat(o,"&query=").concat(n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f={fetchTranding:u,fetchMovie:l,fetchReviews:v,fetchCasts:h,fetchMovieSearch:p};n.Z=f},152:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(184);function c(){return(0,t.jsx)("p",{children:"Loading ..."})}},112:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var t=r(861),c=r(439),a=r(757),s=r.n(a),i=r(791),o=r(416),u=r(713),l=r(184);function v(){var e,n=(0,o.TH)();console.log("location go back:",n);var r=(0,i.useRef)(null===(e=n.state)||void 0===e?void 0:e.from),t=(0,o.s0)();return(0,l.jsx)("nav",{children:(0,l.jsx)("button",{type:"button",onClick:function(e){t(r.current,{replace:!1})},children:"Go back"})})}function h(e){var n=e.movie,r=n.poster_path,t=n.original_title,c=n.vote_average,a=n.title,s=n.overview,i=n.genres,o=n.release_date,u=null===o||void 0===o?void 0:o.split("-")[0];return(0,l.jsxs)("section",{className:"movie",children:[(0,l.jsx)("div",{className:"movieImage",children:(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+r,alt:t})}),(0,l.jsxs)("div",{className:"movieInfo",children:[(0,l.jsxs)("h1",{children:[a||"Unknown Title"," (",u||"N/A",")"]}),(0,l.jsxs)("p",{children:["User score: ",10*c,"%"]}),(0,l.jsx)("h2",{children:"Overview"}),s&&(0,l.jsx)("p",{children:s}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("p",{children:Array.isArray(i)&&i.length>0&&i.map((function(e,n){return(0,l.jsxs)("span",{children:[e.name," "]},n)}))})]})]})}function p(){return(0,l.jsxs)("section",{children:[(0,l.jsx)("h4",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]}),(0,l.jsx)(o.j3,{})]})}var f=r(152);function d(){var e=(0,o.UO)().movieId,n=u.Z.fetchMovie,r=(0,i.useState)(null),a=(0,c.Z)(r,2),d=a[0],x=a[1],m=(0,i.useState)(null),g=(0,c.Z)(m,2),j=g[0],w=g[1],b=(0,i.useState)(!1),Z=(0,c.Z)(b,2),k=Z[0],y=Z[1],_=(0,o.TH)();console.log("location on single: ",_);var C=(0,o.lr)(),S=(0,c.Z)(C,1)[0].get("request");return console.log("request on Movies: ",S),(0,i.useEffect)((function(){y(!0);var r=function(){var r=(0,t.Z)(s().mark((function r(){var t,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n(e);case 3:t=r.sent,c=t.data,x(c||[]),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),w(r.t0.message||"Something went wrong.");case 11:return r.prev=11,y(!1),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})));return function(){return r.apply(this,arguments)}}();r()}),[e,n]),j?(0,l.jsxs)("p",{children:["Error: ",j]}):d?(0,l.jsx)("main",{children:k?(0,l.jsx)(f.Z,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{}),(0,l.jsx)(h,{movie:d}),(0,l.jsx)(p,{})]})}):void 0}}}]);
//# sourceMappingURL=movieDetails.bf6ff2c3.chunk.js.map